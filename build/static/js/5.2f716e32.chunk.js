(this["webpackJsonponline-shop"]=this["webpackJsonponline-shop"]||[]).push([[5],{104:function(e,t,c){"use strict";c.r(t);var n=c(18);var s=c(26);function a(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(s.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var r=c(7),i=c(8),o=c(1),d=c.n(o),u=c(2),l=c(56),j=c(23),b=c(13),O=c(25),h=c(58),p=c(92),m=c.n(p),f=c(54),x=c(55),v=c(0),g=d.a.lazy((function(){return c.e(10).then(c.bind(null,103))}));t.default=Object(x.a)((function(e){var t=Object(o.useState)({}),c=Object(i.a)(t,2),n=c[0],s=c[1],d=Object(o.useState)(!1),p=Object(i.a)(d,2),x=p[0],y=p[1],k=Object(o.useState)(!0),P=Object(i.a)(k,2),_=P[0],E=P[1],S=Object(o.useState)(!1),A=Object(i.a)(S,2),D=A[0],N=A[1],T=Object(o.useState)(!1),w=Object(i.a)(T,2),I=w[0],q=w[1],C=Object(o.useState)(!1),L=Object(i.a)(C,2),H=L[0],M=L[1],F=Object(u.g)();Object(o.useEffect)((function(){_&&(M(!0),f.a.get("/products/".concat(e.match.params.id)).then((function(e){e.status>=200&&e.status<300&&(M(!1),E(!1),s(e.data))})).catch((function(e){M(!1)})))}),[e.match.params.id,_]);var R=function(){D?N(!1):I&&(q(!1),e.roles.includes("admin")&&F.replace("/products"))},U=null;D?U=Object(v.jsx)(O.a,{action:"delete",prodName:n.name,clicked1:R,clicked2:function(){M(!0),f.a.delete("/products/".concat(e.match.params.id)).then((function(e){e.status>=200&&e.status<300&&(M(!1),N(!1),q(!0))})).catch((function(e){M(!1)}))}}):I&&(U=Object(v.jsx)(h.a,{message:e.roles.includes("admin")?'The product "'.concat(n.name,'" has been successfully deleted!'):'The product "'.concat(n.name,'" was added to the shopping cart!'),clicked:R})),H&&!x&&(U=Object(v.jsx)(b.a,{}));var J=Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)(l.a,{title:"Product: "+n.name,paramsId:e.match.params,roles:e.roles,btn1:e.roles.includes("admin")?"EDIT":"ADD TO CART",clicked1:e.roles.includes("admin")?function(){E(!1),y(!0)}:function(){var t=Object(r.a)(Object(r.a)({},n),{},{quantity:1}),c=e.cart.slice(),s=c.find((function(e){return e.id===t.id}));e.setCart(s?[].concat(a(c.filter((function(e){return e.id!==t.id}))),[Object(r.a)(Object(r.a)({},s),{},{quantity:s.quantity+1})]):[].concat(a(c),[t])),q(!0)},btn2:"DELETE",clicked2:function(){N(!0)}}),Object(v.jsxs)("div",{className:m.a.Product,children:[Object(v.jsxs)("div",{className:m.a.ProdList,children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{children:"Name:"})," ",n.name]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{children:"Category:"})," ",n.category]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{children:"Price:"})," ",n.price," EUR"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("span",{children:"Description:"})," ",n.description]})]}),Object(v.jsx)("img",{src:n.image,alt:n.name+"img"})]})]});return H&&_&&(J=Object(v.jsx)(b.a,{})),x&&(J=Object(v.jsx)("div",{className:m.a.Product,children:Object(v.jsx)(g,{product:n,currProd:e.match.params.id,setIsEditing:y,setWasEdited:E})})),Object(v.jsxs)(o.Fragment,{children:[Object(v.jsx)(j.a,{show:I||D,modalClosed:R,children:U}),J]})}),f.a)},54:function(e,t,c){"use strict";var n=c(62),s=c.n(n).a.create({baseURL:"http://localhost:4000/"});t.a=s},55:function(e,t,c){"use strict";var n=c(7),s=c(8),a=c(1),r=c(23),i=function(e){var t=Object(a.useState)(null),c=Object(s.a)(t,2),n=c[0],r=c[1],i=e.interceptors.request.use((function(e){return r(null),e})),o=e.interceptors.response.use((function(e){return e}),(function(e){r(e)}));Object(a.useEffect)((function(){return function(){e.interceptors.request.eject(i),e.interceptors.response.eject(o)}}),[i,o,e.interceptors.request,e.interceptors.response]);return[n,function(){r(null)}]},o=c(0);t.a=function(e,t){return function(c){var d=i(t),u=Object(s.a)(d,2),l=u[0],j=u[1];return Object(o.jsxs)(a.Fragment,{children:[Object(o.jsx)(r.a,{show:l,modalClosed:j,children:l?l.message:null}),Object(o.jsx)(e,Object(n.a)({},c))]})}}},56:function(e,t,c){"use strict";c(1);var n=c(57),s=c.n(n),a=c(15),r=c(2),i=c(0);t.a=function(e){var t=Object(r.h)(),c=Object(i.jsxs)("div",{children:[Object(i.jsx)(a.a,{clicked:e.clicked1,children:e.btn1}),Object(i.jsx)(a.a,{clicked:e.clicked2,children:e.btn2})]});return 0!==Object.keys(e.paramsId).length&&e.roles.includes("admin")||(c=Object(i.jsx)(a.a,{clicked:e.clicked1,children:e.btn1})),("/sales"===t.pathname||"/products"===t.pathname&&!e.roles.includes("admin"))&&(c=null),Object(i.jsxs)("div",{className:s.a.Header,children:[Object(i.jsx)("h2",{children:e.title}),c]})}},57:function(e,t,c){e.exports={Header:"Header_Header__17NkT"}},58:function(e,t,c){"use strict";c(1);var n=c(15),s=c(63),a=c.n(s),r=c(0);t.a=function(e){return Object(r.jsxs)("div",{className:a.a.ActionDoneMessage,children:[Object(r.jsx)("p",{children:e.message}),Object(r.jsx)(n.a,{clicked:e.clicked,children:"OK"})]})}},63:function(e,t,c){e.exports={ActionDoneMessage:"ActionDoneMessage_ActionDoneMessage__3ysrl"}},92:function(e,t,c){e.exports={Product:"Product_Product__2ByQI",ProdList:"Product_ProdList__xCU8g"}}}]);
//# sourceMappingURL=5.2f716e32.chunk.js.map