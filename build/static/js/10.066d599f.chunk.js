(this["webpackJsonponline-shop"]=this["webpackJsonponline-shop"]||[]).push([[10],{103:function(e,t,a){"use strict";a.r(t);var n=a(24),c=a(7),i=a(8),u=a(1),s=a(59),l=a(15),d=a(13),r=a(97),o=a.n(r),j=a(54),b=a(23),p=a(58),h=a(61),O=a(55),v=a(0);t.default=Object(O.a)((function(e){var t=Object(u.useState)(e.product),a=Object(i.a)(t,2),r=a[0],O=a[1],f=Object(u.useState)({validation:{required:!0,isNumeric:!0},valid:!0,touched:!1}),m=Object(i.a)(f,2),_=m[0],x=m[1],E=Object(u.useState)(!1),I=Object(i.a)(E,2),g=I[0],C=I[1],N=Object(u.useState)(!1),k=Object(i.a)(N,2),L=k[0],P=k[1],S=Object(u.useState)(!1),y=Object(i.a)(S,2),w=y[0],A=y[1],V=Object(u.useCallback)((function(){var e=Object(c.a)({},r),t=!Object.values(e).some((function(e){return null===e||""===e}));C(!!t)}),[r]);Object(u.useEffect)((function(){V()}),[V]);var q=function(){A(!1),e.setIsEditing(!1)},J=[];for(var U in r)"id"!==U&&J.push({element:U,data:r[U]});var W=Object(v.jsxs)(u.Fragment,{children:[Object(v.jsxs)("h2",{children:["Edit: ",e.product.name]}),J.map((function(e){return Object(v.jsx)(s.a,{type:"text",label:e.element.charAt(0).toUpperCase()+e.element.slice(1),value:e.data,invalid:"price"===e.element&&!_.valid,shouldValidate:"price"===e.element?_.validation:null,touched:_.touched,changed:function(t){return function(e,t){var a=e.target.value;if("price"===t){var i=Object(c.a)(Object(c.a)({},_),{},{valid:Object(h.a)(a,_.validation),touched:!0});x(i)}var u=Object(c.a)(Object(c.a)({},r),{},Object(n.a)({},t,a));O(u)}(t,e.element)}},e.element)})),Object(v.jsxs)("div",{children:[Object(v.jsx)(l.a,{clicked:function(){e.setIsEditing(!1),e.setWasEdited(!1)},children:"CANCEL"}),Object(v.jsx)(l.a,{clicked:function(){P(!0),j.a.put("/products/".concat(e.currProd),r).then((function(t){t.status>=200&&t.status<300&&(P(!1),e.setWasEdited(!0),A(!0))})).catch((function(e){P(!1)}))},disabled:!g||!_.valid,children:"SAVE"})]})]}),X=Object(v.jsx)(p.a,{message:'The product "'.concat(e.product.name,'" was successfully edited.'),clicked:q});return L&&(W=Object(v.jsx)(d.a,{})),Object(v.jsxs)("div",{className:o.a.EditProduct,children:[Object(v.jsx)(b.a,{show:w,modalClosed:q,children:X}),W]})}),j.a)},59:function(e,t,a){"use strict";a(1);var n=a(60),c=a.n(n),i=a(0);t.a=function(e){var t=[c.a.InputElement];return e.invalid&&e.shouldValidate&&e.touched&&t.push(c.a.Invalid),Object(i.jsxs)("div",{className:c.a.Input,children:[Object(i.jsx)("label",{className:c.a.Label,children:e.label}),Object(i.jsx)("input",{className:t.join(" "),type:e.type,placeholder:e.placeholder,value:e.value,onChange:e.changed})]})}},60:function(e,t,a){e.exports={Input:"Input_Input__Pn_El",Label:"Input_Label__3vOCB",InputElement:"Input_InputElement__3XM0f",Invalid:"Input_Invalid__3yo0_"}},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){var a=!0;if(!t)return!0;if(t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),t.isNumeric){a=/^\d+$/.test(e)&&a}return a}},97:function(e,t,a){e.exports={EditProduct:"EditProduct_EditProduct__1gU5X"}}}]);
//# sourceMappingURL=10.066d599f.chunk.js.map