{"version":3,"sources":["containers/Sales/Sales.js","axios-instance.js","hooks/http-error-handler.js","hoc/withErrorHandler/withErrorHandler.js","components/Header/Header.js","components/Header/Header.module.css","containers/Sales/Sales.module.css"],"names":["withErrorHandler","props","useState","sales","setSales","isLoading","setIsLoading","useEffect","axios","get","then","resp","status","data","catch","err","listProducts","title","paramsId","match","params","map","item","index","category","className","classes","Sales","instance","create","baseURL","HttpErrorHandlerHook","httpClient","error","setError","reqInterceptor","interceptors","request","use","req","respInterceptor","response","eject","WrappedComponent","httpErrorHandlerHook","clearError","Modal","show","modalClosed","message","Header","location","useLocation","buttons","clicked","clicked1","btn1","clicked2","btn2","Object","keys","length","roles","includes","pathname","module","exports"],"mappings":"mMA0DeA,uBAlDD,SAACC,GAAW,IAAD,EACGC,mBAAS,IADZ,mBAChBC,EADgB,KACTC,EADS,OAEWF,oBAAS,GAFpB,mBAEhBG,EAFgB,KAELC,EAFK,KAIvBC,qBAAU,WACRD,GAAa,GACbE,IACGC,IAAI,UACJC,MAAK,SAACC,GACDA,EAAKC,QAAU,KAAOD,EAAKC,OAAS,MACtCR,EAASO,EAAKE,MACdP,GAAa,OAGhBQ,OAAM,SAACC,GACNT,GAAa,QAEhB,IAEH,IAAIU,EACF,eAAC,WAAD,WACE,cAAC,IAAD,CAAQC,MAAM,QAAQC,SAAUjB,EAAMkB,MAAMC,SAC5C,kCACE,gCACE,+BACE,0CACA,4CAGJ,gCACGjB,EAAMkB,KAAI,SAACC,EAAMC,GAChB,OACE,+BACE,6BAAKD,EAAKE,WACV,6BAAKF,EAAKnB,UAFHoB,cAerB,OAJIlB,IACFW,EAAe,cAAC,IAAD,KAGV,qBAAKS,UAAWC,IAAQC,MAAxB,SAAgCX,MAGFR,M,gCC1DvC,YAEMoB,EAFN,OAEiBpB,EAAMqB,OAAO,CAC5BC,QAAS,2BAGIF,O,iEC8BAG,EAlCc,SAACC,GAAgB,IAAD,EACjB9B,mBAAS,MADQ,mBACpC+B,EADoC,KAC7BC,EAD6B,KAGrCC,EAAiBH,EAAWI,aAAaC,QAAQC,KAAI,SAACC,GAE1D,OADAL,EAAS,MACFK,KAGHC,EAAkBR,EAAWI,aAAaK,SAASH,KACvD,SAAC3B,GAAD,OAAUA,KACV,SAACI,GACCmB,EAASnB,MAIbR,qBAAU,WACR,OAAO,WACLyB,EAAWI,aAAaC,QAAQK,MAAMP,GACtCH,EAAWI,aAAaK,SAASC,MAAMF,MAExC,CACDL,EACAK,EACAR,EAAWI,aAAaC,QACxBL,EAAWI,aAAaK,WAO1B,MAAO,CAACR,EAJsB,WAC5BC,EAAS,S,OCXElC,IAdU,SAAC2C,EAAkBnC,GAC1C,OAAO,SAACP,GAAW,IAAD,EACY2C,EAAqBpC,GADjC,mBACTyB,EADS,KACFY,EADE,KAEhB,OACE,eAAC,WAAD,WACE,cAACC,EAAA,EAAD,CAAOC,KAAMd,EAAOe,YAAaH,EAAjC,SACGZ,EAAQA,EAAMgB,QAAU,OAE3B,cAACN,EAAD,eAAsB1C,U,gCCb9B,gDAqCeiD,IA/BA,SAACjD,GACd,IAAMkD,EAAWC,cACbC,EACF,gCACE,cAAC,IAAD,CAAQC,QAASrD,EAAMsD,SAAvB,SAAkCtD,EAAMuD,OACxC,cAAC,IAAD,CAAQF,QAASrD,EAAMwD,SAAvB,SAAkCxD,EAAMyD,UAkB5C,OAbyC,IAAvCC,OAAOC,KAAK3D,EAAMiB,UAAU2C,QAC3B5D,EAAM6D,MAAMC,SAAS,WAEtBV,EAAU,cAAC,IAAD,CAAQC,QAASrD,EAAMsD,SAAvB,SAAkCtD,EAAMuD,SAI5B,WAAtBL,EAASa,UACc,cAAtBb,EAASa,WAA6B/D,EAAM6D,MAAMC,SAAS,YAE5DV,EAAU,MAIV,sBAAK5B,UAAWC,IAAQwB,OAAxB,UACE,6BAAKjD,EAAMgB,QACVoC,O,mBC/BPY,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,MAAQ","file":"static/js/9.c5d2719a.chunk.js","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\r\n\r\nimport Header from \"../../components/Header/Header\";\r\nimport Spinner from \"../../components/UI/Spinner/Spinner\";\r\nimport classes from \"./Sales.module.css\";\r\nimport axios from \"../../axios-instance\";\r\nimport withErrorHandler from \"../../hoc/withErrorHandler/withErrorHandler\";\r\n\r\nconst Sales = (props) => {\r\n  const [sales, setSales] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    axios\r\n      .get(\"/sales\")\r\n      .then((resp) => {\r\n        if (resp.status >= 200 && resp.status < 300) {\r\n          setSales(resp.data);\r\n          setIsLoading(false);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  let listProducts = (\r\n    <Fragment>\r\n      <Header title=\"Sales\" paramsId={props.match.params} />\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Category</th>\r\n            <th>Sales</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {sales.map((item, index) => {\r\n            return (\r\n              <tr key={index}>\r\n                <td>{item.category}</td>\r\n                <td>{item.sales}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </Fragment>\r\n  );\r\n\r\n  if (isLoading) {\r\n    listProducts = <Spinner />;\r\n  }\r\n\r\n  return <div className={classes.Sales}>{listProducts}</div>;\r\n};\r\n\r\nexport default withErrorHandler(Sales, axios);\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"http://localhost:4000/\",\r\n});\r\n\r\nexport default instance;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst HttpErrorHandlerHook = (httpClient) => {\r\n  const [error, setError] = useState(null);\r\n\r\n  const reqInterceptor = httpClient.interceptors.request.use((req) => {\r\n    setError(null);\r\n    return req;\r\n  });\r\n\r\n  const respInterceptor = httpClient.interceptors.response.use(\r\n    (resp) => resp,\r\n    (err) => {\r\n      setError(err);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      httpClient.interceptors.request.eject(reqInterceptor);\r\n      httpClient.interceptors.response.eject(respInterceptor);\r\n    };\r\n  }, [\r\n    reqInterceptor,\r\n    respInterceptor,\r\n    httpClient.interceptors.request,\r\n    httpClient.interceptors.response,\r\n  ]);\r\n\r\n  const errorConfirmedHandler = () => {\r\n    setError(null);\r\n  };\r\n\r\n  return [error, errorConfirmedHandler];\r\n};\r\n\r\nexport default HttpErrorHandlerHook;\r\n","import React, { Fragment } from \"react\";\r\n\r\nimport Modal from \"../../components/UI/Modal/Modal\";\r\nimport httpErrorHandlerHook from \"../../hooks/http-error-handler\";\r\n\r\nconst withErrorHandler = (WrappedComponent, axios) => {\r\n  return (props) => {\r\n    const [error, clearError] = httpErrorHandlerHook(axios);\r\n    return (\r\n      <Fragment>\r\n        <Modal show={error} modalClosed={clearError}>\r\n          {error ? error.message : null}\r\n        </Modal>\r\n        <WrappedComponent {...props} />\r\n      </Fragment>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withErrorHandler;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Header.module.css\";\r\nimport Button from \"../UI/Button/Button\";\r\nimport { useLocation } from \"react-router\";\r\n\r\nconst Header = (props) => {\r\n  const location = useLocation();\r\n  let buttons = (\r\n    <div>\r\n      <Button clicked={props.clicked1}>{props.btn1}</Button>\r\n      <Button clicked={props.clicked2}>{props.btn2}</Button>\r\n    </div>\r\n  );\r\n\r\n  if (\r\n    Object.keys(props.paramsId).length === 0 ||\r\n    !props.roles.includes(\"admin\")\r\n  ) {\r\n    buttons = <Button clicked={props.clicked1}>{props.btn1}</Button>;\r\n  }\r\n\r\n  if (\r\n    location.pathname === \"/sales\" ||\r\n    (location.pathname === \"/products\" && !props.roles.includes(\"admin\"))\r\n  ) {\r\n    buttons = null;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.Header}>\r\n      <h2>{props.title}</h2>\r\n      {buttons}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__17NkT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Sales\":\"Sales_Sales__3DfQ_\"};"],"sourceRoot":""}